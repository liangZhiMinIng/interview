![logo](https://cdn2.jianshu.io/asimov/src/assets/image/nav-logo.faf216af.png)æˆå°±ä½ çš„å†™ä½œæ¢¦æƒ³

ç«‹å³ä¸‹è½½

# webå‰ç«¯å·¥ç¨‹å¸ˆé¢è¯•é¢˜2021

[![img](https://upload.jianshu.io/users/upload_avatars/24099909/07bff132-25c7-4a4f-b30e-cf0b4d576424.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/180/h/180)æ˜¯å¦å¦å–ç®€ä¹¦ä½œè€…](https://www.jianshu.com/u/98817af98690)

6.3882021-02-19 11:05æ‰“å¼€App

# å›ç­”é¢è¯•é¢˜çš„å¥—è·¯ 

1ï½¤å…ˆè¯´è¿™ä¸ªç‚¹çš„æ˜ç¡®å®šä¹‰ï¼Œæˆ–è€…æ˜¯ç‰¹æ€§ï¼›

2ï½¤å†è¯´å…·ä½“çš„åº”ç”¨åœºæ™¯ï¼›

3ï½¤è¯´è¯´è‡ªå·±çš„çœ‹æ³•ã€è§‚ç‚¹ï¼›

4ï½¤å¯ä»¥ç¨å¾®ä¸¾ä¸€åä¸‰ï¼Œè¯´è¯´åŒç±»ç‰¹æ€§ï¼Œæˆ–è€…ç±»ä¼¼çš„æ¡†æ¶ï¼Œæ›´å¥½çš„æ–¹æ¡ˆã€‚

# ç®€çŸ­çš„æ¦‚æ‹¬

## å¸¸è€ƒåŸºç¡€ç‚¹

 \1. å¯¹ SPA å•é¡µé¢åº”ç”¨çš„ç†è§£ï¼Œä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ

 \2. new Vue() å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ

 \3. Vue.useæ˜¯å¹²ä»€ä¹ˆçš„ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ

 \4. è¯·è¯´ä¸€ä¸‹å“åº”å¼æ•°æ®çš„ç†è§£ï¼Ÿ

 \5. Vueå¦‚ä½•æ£€æµ‹æ•°ç»„å˜åŒ–ï¼Ÿ

 \6. Vue.set æ–¹æ³•æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ

 \7. Vueä¸­æ¨¡æ¿ç¼–è¯‘åŸç†ï¼Ÿ

 \8. Proxy ä¸ Object.defineProperty ä¼˜åŠ£å¯¹æ¯”

 \9. Vue3.xå“åº”å¼æ•°æ®åŸç†

##  å¸¸è€ƒ-ç”Ÿå‘½å‘¨æœŸ

 \1. Vueçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æœ‰å“ªäº›ï¼Ÿä¸€èˆ¬åœ¨å“ªä¸€æ­¥å‘èµ·è¯·æ±‚åŠåŸå› 

 \2. ç”Ÿå‘½å‘¨æœŸé’©å­æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ

 \3. Vue çš„çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­æ‰§è¡Œé¡ºåº

##  å¸¸è€ƒ-ç»„ä»¶é€šä¿¡

\1. Vueä¸­çš„ç»„ä»¶çš„data ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ

\2. Vue ç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿ

\3. ç»„ä»¶ä¸­å†™ nameé€‰é¡¹æœ‰å“ªäº›å¥½å¤„åŠä½œç”¨ï¼Ÿ

\4. keep-aliveå¹³æ—¶åœ¨å“ªé‡Œä½¿ç”¨ï¼ŸåŸç†æ˜¯ï¼Ÿ

\5. Vue.minxinçš„ä½¿ç”¨åœºæ™¯å’ŒåŸç†ï¼Ÿ

##  å¸¸è€ƒ-è·¯ç”±

\1. Vue-routeræœ‰å‡ ç§é’©å­å‡½æ•°ï¼Ÿå…·ä½“æ˜¯ä»€ä¹ˆåŠæ‰§è¡Œæµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ

\2. vue-router ä¸¤ç§æ¨¡å¼çš„åŒºåˆ«ï¼Ÿ

##  å¸¸è€ƒ-å±æ€§ä½œç”¨ä¸å¯¹æ¯”

 \1. nextTickåœ¨å“ªé‡Œä½¿ç”¨ï¼ŸåŸç†æ˜¯ï¼Ÿ

 \2. Vue ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹ŸDOMï¼Ÿ  è™šæ‹ŸDOMçš„ä¼˜åŠ£å¦‚ä½•ï¼Ÿ

 \3. Vueä¸­keyçš„ä½œç”¨å’Œå·¥ä½œåŸç†ï¼Œè¯´è¯´ä½ å¯¹å®ƒçš„ç†è§£

 \4. Vue ä¸­çš„diffåŸç†

 \5. v-if ä¸ v-forçš„ä¼˜å…ˆçº§

 \6. v-ifä¸v-showçš„åŒºåˆ«  

 \7. computed å’Œ watch çš„åŒºåˆ«å’Œè¿ç”¨çš„åœºæ™¯ï¼Ÿ

 \8. å¦‚ä½•ç†è§£è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ

##  å¸¸è€ƒ-æ€§èƒ½ä¼˜åŒ–

 \1. ç¼–ç é˜¶æ®µ

 \2. ç”¨æˆ·ä½“éªŒ

 \3. SEOä¼˜åŒ–

 \4. æ‰“åŒ…ä¼˜åŒ–

**æ­£æ–‡ä»è¿™é‡Œå¼€å§‹~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~**

# ä¸€ã€å¸¸è€ƒ-åŸºç¡€ç‚¹

**å¯¹ SPA å•é¡µé¢åº”ç”¨çš„ç†è§£ï¼Œä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

SPAï¼ˆ single-page application ï¼‰ä»…åœ¨ Web é¡µé¢åˆå§‹åŒ–æ—¶åŠ è½½ç›¸åº”çš„ HTMLã€JavaScript å’Œ CSSã€‚â¼€æ—¦â»šâ¾¯åŠ è½½å®Œæˆï¼ŒSPA ä¸ä¼šå› ä¸ºç”¨æˆ·çš„æ“ä½œè€Œè¿›è¡Œé¡µé¢çš„é‡æ–°åŠ è½½æˆ–è·³è½¬ï¼›å–è€Œä»£ä¹‹çš„æ˜¯åˆ©ç”¨è·¯ç”±æœºåˆ¶å®ç° HTML å†…å®¹çš„å˜æ¢ï¼ŒUI ä¸ç”¨æˆ·çš„äº¤äº’ï¼Œé¿å…é¡µé¢çš„é‡æ–°åŠ è½½ã€‚

ä¼˜ç‚¹ï¼š

1ï¼‰ç”¨æˆ·ä½“éªŒå¥½ã€å¿«ï¼Œå†…å®¹çš„æ”¹å˜ä¸éœ€è¦é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼Œé¿å…äº†ä¸å¿…è¦çš„è·³è½¬å’Œé‡å¤æ¸²æŸ“ï¼›

2ï¼‰SPA ç›¸å¯¹å¯¹æœåŠ¡å™¨å‹åŠ›å°ï¼›

3ï¼‰å‰åç«¯èŒè´£åˆ†ç¦»ï¼Œæ¶æ„æ¸…æ™°ï¼Œå‰ç«¯è¿›è¡Œäº¤äº’é€»è¾‘ï¼Œåç«¯è´Ÿè´£æ•°æ®å¤„ç†ï¼›

ç¼ºç‚¹ï¼š

1ï¼‰é¦–å±ï¼ˆåˆæ¬¡ï¼‰åŠ è½½æ…¢ï¼šä¸ºå®ç°å•é¡µé¢ Web åº”ç”¨åŠŸèƒ½åŠæ˜¾ç¤ºæ•ˆæœï¼Œéœ€è¦åœ¨åŠ è½½èµ„æºçš„æ—¶å€™å°†JavaScriptã€CSS ç»Ÿä¸€åŠ è½½ï¼Œéƒ¨åˆ†é¡µé¢æŒ‰éœ€åŠ è½½ï¼›

2ï¼‰ä¸åˆ©äº SEOï¼šç”±äºæ‰€æœ‰çš„å†…å®¹éƒ½åœ¨ä¸€ä¸ªé¡µé¢ä¸­åŠ¨æ€æ›¿æ¢æ˜¾ç¤ºï¼Œæ‰€ä»¥åœ¨ SEO ä¸Šå…¶æœ‰ç€å¤©ç„¶çš„å¼±åŠ¿ã€‚

**new Vue() å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

1ï¼‰ç»“è®ºï¼šnew Vue()æ˜¯åˆ›å»ºVueå®ä¾‹ï¼Œå®ƒå†…éƒ¨æ‰§è¡Œäº†æ ¹å®ä¾‹çš„åˆå§‹åŒ–è¿‡ç¨‹ã€‚

2ï¼‰å…·ä½“åŒ…æ‹¬ä»¥ä¸‹æ“ä½œï¼š

é€‰é¡¹åˆå¹¶

$childrenï¼Œ$refsï¼Œ$slotsï¼Œ$createElementç­‰å®ä¾‹å±æ€§çš„æ–¹æ³•åˆå§‹åŒ–

è‡ªå®šä¹‰äº‹ä»¶å¤„ç†

æ•°æ®å“åº”å¼å¤„ç†

ç”Ÿå‘½å‘¨æœŸé’©å­è°ƒç”¨ ï¼ˆbeforecreate createdï¼‰

å¯èƒ½çš„æŒ‚è½½

3ï¼‰æ€»ç»“ï¼šnew Vue()åˆ›å»ºäº†æ ¹å®ä¾‹å¹¶å‡†å¤‡å¥½æ•°æ®å’Œæ–¹æ³•ï¼Œæœªæ¥æ‰§è¡ŒæŒ‚è½½æ—¶ï¼Œæ­¤è¿‡ç¨‹è¿˜ä¼šé€’å½’çš„åº”ç”¨äºå®ƒçš„å­ç»„ä»¶ä¸Šï¼Œæœ€ç»ˆå½¢æˆä¸€ä¸ªæœ‰ç´§å¯†å…³ç³»çš„ç»„ä»¶å®ä¾‹æ ‘ã€‚

**Vue.useæ˜¯å¹²ä»€ä¹ˆçš„ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

vue.use æ˜¯ç”¨æ¥ä½¿ç”¨æ’ä»¶çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ’ä»¶ä¸­æ‰©å±•å…¨å±€ç»„ä»¶ã€æŒ‡ä»¤ã€åŸå‹æ–¹æ³•ç­‰ã€‚

1ï½¤æ£€æŸ¥æ’ä»¶æ˜¯å¦æ³¨å†Œï¼Œè‹¥å·²æ³¨å†Œï¼Œåˆ™ç›´æ¥è·³å‡ºï¼›

2ï½¤å¤„ç†å…¥å‚ï¼Œå°†ç¬¬ä¸€ä¸ªå‚æ•°ä¹‹åçš„å‚æ•°å½’é›†ï¼Œå¹¶åœ¨é¦–éƒ¨å¡å…¥ this ä¸Šä¸‹æ–‡ï¼›

3ï½¤æ‰§è¡Œæ³¨å†Œæ–¹æ³•ï¼Œè°ƒç”¨å®šä¹‰å¥½çš„ install æ–¹æ³•ï¼Œä¼ å…¥å¤„ç†çš„å‚æ•°ï¼Œè‹¥æ²¡æœ‰ install æ–¹æ³•å¹¶ä¸”æ’ä»¶æœ¬èº«ä¸º function åˆ™ç›´æ¥è¿›è¡Œæ³¨å†Œï¼›

1) æ’ä»¶ä¸èƒ½é‡å¤çš„åŠ è½½

install æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯vueçš„æ„é€ å‡½æ•°ï¼Œå…¶ä»–å‚æ•°æ˜¯Vue.setä¸­é™¤äº†ç¬¬ä¸€ä¸ªå‚æ•°çš„å…¶ä»–å‚æ•°ï¼› ä»£ç ï¼šargs.unshift(this)

2) è°ƒç”¨æ’ä»¶çš„install æ–¹æ³• ä»£ç ï¼štypeof plugin.install === 'function'

3) æ’ä»¶æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç›´æ¥è®©å‡½æ•°æ‰§è¡Œã€‚ ä»£ç ï¼šplugin.apply(null, args)

4) ç¼“å­˜æ’ä»¶ã€‚ ä»£ç ï¼šinstalledPlugins.push(plugin)

**è¯·è¯´ä¸€ä¸‹å“åº”å¼æ•°æ®çš„ç†è§£ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

æ ¹æ®æ•°æ®ç±»å‹æ¥åšä¸åŒå¤„ç†ï¼Œæ•°ç»„å’Œå¯¹è±¡ç±»å‹å½“å€¼å˜åŒ–æ—¶å¦‚ä½•åŠ«æŒã€‚

1)å¯¹è±¡å†…éƒ¨é€šè¿‡defineReactiveæ–¹æ³•ï¼Œä½¿ç”¨Object.defineProperty() ç›‘å¬æ•°æ®å±æ€§çš„ get æ¥è¿›è¡Œæ•°æ®ä¾èµ–æ”¶é›†ï¼Œå†é€šè¿‡ set æ¥å®Œæˆæ•°æ®æ›´æ–°çš„æ´¾å‘ï¼›

2) æ•°ç»„åˆ™é€šè¿‡é‡å†™æ•°ç»„æ–¹æ³•æ¥å®ç°çš„ã€‚æ‰©å±•å®ƒçš„ 7 ä¸ªå˜æ›´â½…æ³•ï¼Œé€šè¿‡ç›‘å¬è¿™äº›æ–¹æ³•å¯ä»¥åšåˆ°ä¾èµ–æ”¶é›†å’Œæ´¾å‘æ›´æ–°ï¼›( push/pop/shift/unshift/splice/reverse/sort )

è¿™é‡Œåœ¨å›ç­”æ—¶å¯ä»¥å¸¦å‡ºä¸€äº›ç›¸å…³çŸ¥è¯†ç‚¹ ï¼ˆæ¯”å¦‚å¤šå±‚å¯¹è±¡æ˜¯é€šè¿‡é€’å½’æ¥å®ç°åŠ«æŒï¼Œé¡ºå¸¦æå‡ºvue3ä¸­æ˜¯ä½¿ç”¨ proxyæ¥å®ç°å“åº”å¼æ•°æ®ï¼‰

è¡¥å……å›ç­”ï¼š

å†…éƒ¨ä¾èµ–æ”¶é›†æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Œæ¯ä¸ªå±æ€§éƒ½æ‹¥æœ‰è‡ªå·±çš„depå±æ€§ï¼Œå­˜æ”¾ä»–æ‰€ä¾èµ–çš„ watcherï¼Œå½“å±æ€§å˜åŒ–åä¼šé€šçŸ¥è‡ªå·±å¯¹åº”çš„ watcherå»æ›´æ–°ã€‚

å“åº”å¼æµç¨‹ï¼š

1ï½¤defineReactive  æŠŠæ•°æ®å®šä¹‰æˆå“åº”å¼çš„ï¼›

2ï½¤ç»™å±æ€§å¢åŠ ä¸€ä¸ª depï¼Œç”¨æ¥æ”¶é›†å¯¹åº”çš„é‚£äº›watcherï¼›

3ï½¤ç­‰æ•°æ®å˜åŒ–è¿›è¡Œæ›´æ–°

dep.depend() // get å–å€¼ï¼šè¿›è¡Œä¾èµ–æ”¶é›†

dep.notify() // set è®¾ç½®æ—¶ï¼šé€šçŸ¥è§†å›¾æ›´æ–°

è¿™é‡Œå¯ä»¥å¼•å‡ºæ€§èƒ½ä¼˜åŒ–ç›¸å…³çš„å†…å®¹ï¼š

1)å¯¹è±¡å±‚çº§è¿‡æ·±ï¼Œæ€§èƒ½å°±ä¼šå·®ã€‚

2)ä¸éœ€è¦å“åº”æ•°æ®çš„å†…å®¹ä¸è¦æ”¾åœ¨dataä¸­ã€‚

3)object.freeze()  å¯ä»¥å†»ç»“æ•°æ®ã€‚

**Vueå¦‚ä½•æ£€æµ‹æ•°ç»„å˜åŒ–ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

æ•°ç»„è€ƒè™‘æ€§èƒ½åŸå› æ²¡æœ‰ç”¨definePropertyå¯¹æ•°ç»„çš„æ¯ä¸€é¡¹è¿›è¡Œæ‹¦æˆªï¼Œè€Œæ˜¯é€‰æ‹©é‡å†™æ•°ç»„ æ–¹æ³•ä»¥è¿›è¡Œé‡å†™ã€‚å½“æ•°ç»„è°ƒç”¨åˆ°è¿™ 7 ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œæ‰§è¡Œ ob.dep.notify() è¿›è¡Œæ´¾å‘é€šçŸ¥ Watcher æ›´æ–°ï¼›

é‡å†™æ•°ç»„æ–¹æ³•ï¼špush/pop/shift/unshift/splice/reverse/sort

è¡¥å……å›ç­”ï¼š

åœ¨Vueä¸­ä¿®æ”¹æ•°ç»„çš„ç´¢å¼•å’Œé•¿åº¦æ˜¯æ— æ³•ç›‘æ§åˆ°çš„ã€‚éœ€è¦é€šè¿‡ä»¥ä¸‹7ç§å˜å¼‚æ–¹æ³•ä¿®æ”¹æ•°ç»„æ‰ä¼šè§¦å‘æ•°ç»„å¯¹åº”çš„wactherè¿›è¡Œæ›´æ–°ã€‚æ•°ç»„ä¸­å¦‚æœæ˜¯å¯¹è±¡æ•°æ®ç±»å‹ä¹Ÿä¼šè¿›è¡Œé€’å½’åŠ«æŒã€‚

è¯´æ˜ï¼šé‚£å¦‚æœæƒ³è¦æ”¹ç´¢å¼•æ›´æ–°æ•°æ®æ€ä¹ˆåŠï¼Ÿ

å¯ä»¥é€šè¿‡Vue.set()æ¥è¿›è¡Œå¤„ç† =ã€‹ æ ¸å¿ƒå†…éƒ¨ç”¨çš„æ˜¯ splice æ–¹æ³•ã€‚

// å–å‡ºåŸå‹æ–¹æ³•ï¼›

const arrayProto = Array.prototype 

// æ‹·è´åŸå‹æ–¹æ³•ï¼›

export const arrayMethods = Object.create(arrayProto) 

// é‡å†™æ•°ç»„æ–¹æ³•ï¼›

def(arrayMethods, method, function mutator (...args) { }

ob.dep.notify() // è°ƒç”¨æ–¹æ³•æ—¶æ›´æ–°è§†å›¾ï¼›

**Vue.set æ–¹æ³•æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

ä¸ºä»€ä¹ˆ$setå¯ä»¥è§¦å‘æ›´æ–°ï¼Œæˆ‘ä»¬ç»™å¯¹è±¡å’Œæ•°ç»„æœ¬èº«éƒ½å¢åŠ äº†depå±æ€§ï¼Œå½“ç»™å¯¹è±¡æ–°å¢ä¸å­˜åœ¨çš„å±æ€§åˆ™è§¦å‘å¯¹è±¡ä¾èµ–çš„watcherå»æ›´æ–°ï¼Œå½“ä¿®æ”¹æ•°ç»„ç´¢å¼•æ—¶æˆ‘ä»¬è°ƒç”¨æ•°ç»„æœ¬èº«çš„spliceæ–¹æ³•å»æ›´æ–°æ•°ç»„ã€‚

è¡¥å……å›ç­”ï¼š

å®˜æ–¹å®šä¹‰Vue.set(object, key, value) 

1) å¦‚æœæ˜¯æ•°ç»„ï¼Œè°ƒç”¨é‡å†™çš„spliceæ–¹æ³• ï¼ˆè¿™æ ·å¯ä»¥æ›´æ–°è§†å›¾ ï¼‰

ä»£ç ï¼štarget.splice(key, 1, val)

2) å¦‚æœä¸æ˜¯å“åº”å¼çš„ä¹Ÿä¸éœ€è¦å°†å…¶å®šä¹‰æˆå“åº”å¼å±æ€§ã€‚

3) å¦‚æœæ˜¯å¯¹è±¡ï¼Œå°†å±æ€§å®šä¹‰æˆå“åº”å¼çš„  defineReactive(ob.value, key, val)

é€šçŸ¥è§†å›¾æ›´æ–°  ob.dep.notify()

**Vueä¸­æ¨¡æ¿ç¼–è¯‘åŸç†ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

å¦‚ä½•å°†templateè½¬æ¢æˆrenderå‡½æ•°(è¿™é‡Œè¦æ³¨æ„çš„æ˜¯æˆ‘ä»¬åœ¨å¼€å‘æ—¶å°½é‡ä¸è¦ä½¿ç”¨templateï¼Œå› ä¸ºå°†templateè½¬åŒ–æˆrenderæ–¹æ³•éœ€è¦åœ¨è¿è¡Œæ—¶è¿›è¡Œç¼–è¯‘æ“ä½œä¼šæœ‰æ€§èƒ½æŸè€—ï¼ŒåŒæ—¶å¼•ç”¨å¸¦æœ‰complieråŒ…çš„vueä½“ç§¯ä¹Ÿä¼šå˜å¤§) é»˜è®¤.vueæ–‡ä»¶ä¸­çš„ templateå¤„ç†æ˜¯é€šè¿‡vue-loader æ¥è¿›è¡Œå¤„ç†çš„å¹¶ä¸æ˜¯é€šè¿‡è¿è¡Œæ—¶çš„ç¼–è¯‘ã€‚

1) å°† template æ¨¡æ¿è½¬æ¢æˆ ast è¯­æ³•æ ‘ - parserHTML

2) å¯¹é™æ€è¯­æ³•åšé™æ€æ ‡è®° - markUp

3) é‡æ–°ç”Ÿæˆä»£ç  - codeGen

è¡¥å……å›ç­”ï¼š

æ¨¡æ¿å¼•æ“çš„å®ç°åŸç†å°±æ˜¯new Function + withæ¥è¿›è¡Œå®ç°çš„ã€‚

vue-loaderä¸­å¤„ç†templateå±æ€§ä¸»è¦é çš„æ˜¯vue-template-compiler

**vue-loader**

// template => ast => codegen => with+function å®ç°ç”Ÿæˆrenderæ–¹æ³• 

let {ast, render } = VueTemplateCompiler.compile(`<div>{{aaa}}</div>`)

console.log(ast, render)

// æ¨¡æ¿å¼•æ“çš„å®ç°åŸç† with + new Function

console.log(new Function(render).tostring())

// renderæ–¹æ³•æ‰§è¡Œå®Œæ¯•åç”Ÿæˆçš„æ˜¯è™šæ‹Ÿ dom

// with(this){return _c('div',[_s(aaa)])}

// ä»£ç ç”Ÿæˆ

æºç è®¾ç½®ï¼š

const ast = parse(template.trim(), options) // å°†ä»£ç è§£ææˆastè¯­æ³•æ ‘

 if (options.optimize !== false) {

  optimize(ast, options) // ä¼˜åŒ–ä»£ç  æ ‡è®°é™æ€ç‚¹ æ ‡è®°æ ‘

 }

 const code = generate(ast, options) // ç”Ÿæˆä»£ç  

**Proxy ä¸ Object.defineProperty ä¼˜åŠ£å¯¹æ¯”**

æ ¸å¿ƒç­”æ¡ˆï¼š

Proxy çš„ä¼˜åŠ¿å¦‚ä¸‹:

1ï¼‰Proxy å¯ä»¥ç›´æ¥ç›‘å¬å¯¹è±¡è€Œéå±æ€§ï¼›

2ï¼‰Proxy å¯ä»¥ç›´æ¥ç›‘å¬æ•°ç»„çš„å˜åŒ–ï¼›

3ï¼‰Proxy æœ‰å¤šè¾¾ 13 ç§æ‹¦æˆªæ–¹æ³•,ä¸é™äº applyã€ownKeysã€deletePropertyã€has ç­‰ç­‰æ˜¯ Object.defineProperty ä¸å…·å¤‡çš„ï¼›

4ï¼‰Proxy è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡,æˆ‘ä»¬å¯ä»¥åªæ“ä½œæ–°çš„å¯¹è±¡è¾¾åˆ°ç›®çš„,è€Œ Object.defineProperty åªèƒ½éå†å¯¹è±¡å±æ€§ç›´æ¥ä¿®æ”¹ï¼›

5ï¼‰Proxy ä½œä¸ºæ–°æ ‡å‡†å°†å—åˆ°æµè§ˆå™¨å‚å•†é‡ç‚¹æŒç»­çš„æ€§èƒ½ä¼˜åŒ–ï¼Œä¹Ÿå°±æ˜¯ä¼ è¯´ä¸­çš„æ–°æ ‡å‡†çš„æ€§èƒ½çº¢åˆ©ï¼›

Object.defineProperty çš„ä¼˜åŠ¿å¦‚ä¸‹:

å…¼å®¹æ€§å¥½ï¼Œæ”¯æŒ IE9ï¼Œè€ŒProxy çš„å­˜åœ¨æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Œè€Œä¸”æ— æ³•ç”¨ polyfill ç£¨å¹³ï¼Œå› æ­¤ Vue çš„ä½œè€…æ‰å£°æ˜éœ€è¦ç­‰åˆ°ä¸‹ä¸ªå¤§ç‰ˆæœ¬( 3.0 )æ‰èƒ½ç”¨ Proxy é‡å†™ã€‚

**Vue3.xå“åº”å¼æ•°æ®åŸç†**

æ ¸å¿ƒç­”æ¡ˆï¼š

Vue3.xæ”¹ç”¨Proxyæ›¿ä»£Object.definePropertyã€‚å› ä¸ºProxyå¯ä»¥ç›´æ¥ç›‘å¬å¯¹è±¡å’Œæ•°ç»„çš„å˜åŒ–ï¼Œå¹¶ä¸”æœ‰å¤šè¾¾13ç§æ‹¦æˆªæ–¹æ³•ã€‚å¹¶ä¸”ä½œä¸ºæ–°æ ‡å‡†å°†å—åˆ°æµè§ˆå™¨å‚å•†é‡ç‚¹æŒç»­çš„æ€§èƒ½ä¼˜åŒ–ã€‚

Proxyåªä¼šä»£ç†å¯¹è±¡çš„ç¬¬ä¸€å±‚ï¼Œé‚£ä¹ˆVue3åˆæ˜¯æ€æ ·å¤„ç†è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿ

åˆ¤æ–­å½“å‰Reflect.getçš„è¿”å›å€¼æ˜¯å¦ä¸ºObjectï¼Œå¦‚æœæ˜¯åˆ™å†é€šè¿‡reactiveæ–¹æ³•åšä»£ç†ï¼Œ è¿™æ ·å°±å®ç°äº†æ·±åº¦è§‚æµ‹ã€‚

ç›‘æµ‹æ•°ç»„çš„æ—¶å€™å¯èƒ½è§¦å‘å¤šæ¬¡get/setï¼Œé‚£ä¹ˆå¦‚ä½•é˜²æ­¢è§¦å‘å¤šæ¬¡å‘¢ï¼Ÿ

æˆ‘ä»¬å¯ä»¥åˆ¤æ–­keyæ˜¯å¦ä¸ºå½“å‰è¢«ä»£ç†å¯¹è±¡targetè‡ªèº«å±æ€§ï¼Œä¹Ÿå¯ä»¥åˆ¤æ–­æ—§å€¼ä¸æ–°å€¼æ˜¯å¦ç›¸ç­‰ï¼Œåªæœ‰æ»¡è¶³ä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶ä¹‹ä¸€æ—¶ï¼Œæ‰æœ‰å¯èƒ½æ‰§è¡Œtriggerã€‚

# **äºŒã€å¸¸è€ƒ-ç”Ÿå‘½å‘¨æœŸ** 

**Vueçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æœ‰å“ªäº›ï¼Ÿä¸€èˆ¬åœ¨å“ªä¸€æ­¥å‘èµ·è¯·æ±‚åŠåŸå› **

æ ¸å¿ƒç­”æ¡ˆï¼š

æ€»å…±åˆ†ä¸º8ä¸ªé˜¶æ®µï¼šåˆ›å»ºå‰/åï¼Œè½½å…¥å‰/åï¼Œæ›´æ–°å‰/åï¼Œé”€æ¯å‰/åã€‚

**1ï½¤åˆ›å»ºå‰/åï¼š**

1) beforeCreateé˜¶æ®µï¼švueå®ä¾‹çš„æŒ‚è½½å…ƒç´ elå’Œæ•°æ®å¯¹è±¡dataéƒ½ä¸ºundefinedï¼Œè¿˜æœªåˆå§‹åŒ–ã€‚

è¯´æ˜ï¼šåœ¨å½“å‰é˜¶æ®µdataã€methodsã€computedä»¥åŠwatchä¸Šçš„æ•°æ®å’Œæ–¹æ³•éƒ½ä¸èƒ½è¢«è®¿é—®ã€‚

2) createdé˜¶æ®µï¼švueå®ä¾‹çš„æ•°æ®å¯¹è±¡dataæœ‰äº†ï¼Œelè¿˜æ²¡æœ‰ã€‚

è¯´æ˜ï¼šå¯ä»¥åšä¸€äº›åˆå§‹æ•°æ®çš„è·å–ï¼Œåœ¨å½“å‰é˜¶æ®µæ— æ³•ä¸Domè¿›è¡Œäº¤äº’ï¼Œå¦‚æœéè¦æƒ³ï¼Œå¯ä»¥é€šè¿‡vm.$nextTickæ¥è®¿é—®Domã€‚

**2ï½¤è½½å…¥å‰/åï¼š**

1)beforeMounté˜¶æ®µï¼švueå®ä¾‹çš„$elå’Œdataéƒ½åˆå§‹åŒ–äº†ï¼Œä½†è¿˜æ˜¯æŒ‚è½½ä¹‹å‰ä¸ºè™šæ‹Ÿçš„domèŠ‚ç‚¹ã€‚

è¯´æ˜ï¼šå½“å‰é˜¶æ®µè™šæ‹ŸDomå·²ç»åˆ›å»ºå®Œæˆï¼Œå³å°†å¼€å§‹æ¸²æŸ“ã€‚åœ¨æ­¤æ—¶ä¹Ÿå¯ä»¥å¯¹æ•°æ®è¿›è¡Œæ›´æ”¹ï¼Œä¸ä¼šè§¦å‘updatedã€‚

2)mountedé˜¶æ®µï¼švueå®ä¾‹æŒ‚è½½å®Œæˆï¼Œdata.messageæˆåŠŸæ¸²æŸ“ã€‚

è¯´æ˜ï¼šåœ¨å½“å‰é˜¶æ®µï¼ŒçœŸå®çš„DomæŒ‚è½½å®Œæ¯•ï¼Œæ•°æ®å®ŒæˆåŒå‘ç»‘å®šï¼Œå¯ä»¥è®¿é—®åˆ°DomèŠ‚ç‚¹ï¼Œä½¿ç”¨$refså±æ€§å¯¹Domè¿›è¡Œæ“ä½œã€‚

**3ï½¤æ›´æ–°å‰/å**ï¼š

1)beforeUpdateé˜¶æ®µï¼šå“åº”å¼æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹ŸDOMæ‰“è¡¥ä¸ä¹‹å‰ï¼Œé€‚åˆåœ¨æ›´æ–°ä¹‹å‰è®¿é—®ç°æœ‰çš„DOMï¼Œæ¯”å¦‚æ‰‹åŠ¨ç§»é™¤å·²æ·»åŠ çš„äº‹ä»¶ç›‘å¬å™¨ã€‚

è¯´æ˜ï¼šå¯ä»¥åœ¨å½“å‰é˜¶æ®µè¿›è¡Œæ›´æ”¹æ•°æ®ï¼Œä¸ä¼šé€ æˆé‡æ¸²æŸ“ã€‚

2) updatedé˜¶æ®µï¼šè™šæ‹ŸDOMé‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹åè°ƒç”¨ï¼Œç»„æˆæ–°çš„DOMå·²ç»æ›´æ–°ï¼Œé¿å…åœ¨è¿™ä¸ªé’©å­å‡½æ•°ä¸­æ“ä½œæ•°æ®ï¼Œé˜²æ­¢æ­»å¾ªç¯ã€‚

è¯´æ˜ï¼šå½“å‰é˜¶æ®µç»„ä»¶Domå·²å®Œæˆæ›´æ–°ã€‚è¦æ³¨æ„çš„æ˜¯é¿å…åœ¨æ­¤æœŸé—´æ›´æ”¹æ•°æ®ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šå¯¼è‡´æ— é™å¾ªç¯çš„æ›´æ–°ã€‚

**4ï½¤é”€æ¯å‰/å**ï¼š

1)beforeDestroyé˜¶æ®µï¼šå®ä¾‹é”€æ¯å‰è°ƒç”¨ï¼Œå®ä¾‹è¿˜å¯ä»¥ç”¨ï¼Œthisèƒ½è·å–åˆ°å®ä¾‹ï¼Œå¸¸ç”¨äºé”€æ¯å®šæ—¶å™¨ï¼Œè§£ç»‘äº‹ä»¶ã€‚

è¯´æ˜ï¼šåœ¨å½“å‰é˜¶æ®µå®ä¾‹å®Œå…¨å¯ä»¥è¢«ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™æ—¶è¿›è¡Œå–„åæ”¶å°¾å·¥ä½œï¼Œæ¯”å¦‚æ¸…é™¤è®¡æ—¶å™¨ã€‚

2) destroyedé˜¶æ®µï¼šå®ä¾‹é”€æ¯åè°ƒç”¨ï¼Œè°ƒç”¨åæ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹éƒ½ä¼šè¢«é”€æ¯ã€‚

è¯´æ˜ï¼šå½“å‰é˜¶æ®µç»„ä»¶å·²è¢«æ‹†è§£ï¼Œæ•°æ®ç»‘å®šè¢«å¸é™¤ï¼Œç›‘å¬è¢«ç§»å‡ºï¼Œå­å®ä¾‹ä¹Ÿç»Ÿç»Ÿè¢«é”€æ¯ã€‚

è¡¥å……å›ç­”ï¼š

ç¬¬ä¸€æ¬¡é¡µé¢åŠ è½½æ—¶ä¼šè§¦å‘ï¼šbeforeCreate, created, beforeMount, mountedã€‚

1)created å®ä¾‹å·²ç»åˆ›å»ºå®Œæˆï¼Œå› ä¸ºå®ƒæ˜¯æœ€æ—©è§¦å‘çš„åŸå› å¯ä»¥è¿›è¡Œä¸€äº›æ•°æ®ï¼Œèµ„æºçš„è¯·æ±‚ã€‚(æœåŠ¡å™¨æ¸²æŸ“æ”¯æŒcreatedæ–¹æ³•)

2)mountedå®ä¾‹å·²ç»æŒ‚è½½å®Œæˆï¼Œå¯ä»¥è¿›è¡Œä¸€äº›DOMæ“ä½œã€‚(æ¥å£è¯·æ±‚)

**ç”Ÿå‘½å‘¨æœŸé’©å­æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

Vueçš„ç”Ÿå‘½å‘¨æœŸé’©å­å°±æ˜¯å›è°ƒå‡½æ•°è€Œå·²ï¼Œå½“åˆ›å»ºç»„ä»¶å®ä¾‹çš„è¿‡ç¨‹ä¸­ä¼šè°ƒç”¨å¯¹åº”çš„é’©å­æ–¹æ³•ã€‚

è¡¥å……å›ç­”ï¼š

å†…éƒ¨ä¸»è¦æ˜¯ä½¿ç”¨callHookæ–¹æ³•æ¥è°ƒç”¨å¯¹åº”çš„æ–¹æ³•ã€‚æ ¸å¿ƒæ˜¯ä¸€ä¸ªå‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œå°†é’©å­è®¢é˜…å¥½(å†…éƒ¨é‡‡ç”¨æ•°ç»„çš„æ–¹å¼å­˜å‚¨)ï¼Œåœ¨å¯¹åº”çš„é˜¶æ®µè¿›è¡Œå‘å¸ƒã€‚

**Vue çš„çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­æ‰§è¡Œé¡ºåº**

æ ¸å¿ƒç­”æ¡ˆï¼š

ç¬¬ä¸€æ¬¡é¡µé¢åŠ è½½æ—¶ä¼šè§¦å‘ beforeCreate, created, beforeMount, mounted è¿™å‡ ä¸ªé’©å­ã€‚

æ¸²æŸ“è¿‡ç¨‹ï¼š

çˆ¶ç»„ä»¶æŒ‚è½½å®Œæˆä¸€å®šæ˜¯ç­‰å­ç»„ä»¶éƒ½æŒ‚è½½å®Œæˆåï¼Œæ‰ç®—æ˜¯çˆ¶ç»„ä»¶æŒ‚è½½å®Œï¼Œæ‰€ä»¥çˆ¶ç»„ä»¶çš„mountedåœ¨å­ç»„ä»¶moutedä¹‹å

çˆ¶beforeCreate -> çˆ¶created -> çˆ¶beforeMount -> å­beforeCreate -> å­created -> å­beforeMount -> å­mounted -> çˆ¶mounted

å­ç»„ä»¶æ›´æ–°è¿‡ç¨‹ï¼š

å½±å“åˆ°çˆ¶ç»„ä»¶ï¼šçˆ¶beforeUpdate -> å­beforeUpdate->å­updated -> çˆ¶updted

ä¸å½±å“çˆ¶ç»„ä»¶ï¼šå­beforeUpdate -> å­updated

çˆ¶ç»„ä»¶æ›´æ–°è¿‡ç¨‹ï¼š

å½±å“åˆ°å­ç»„ä»¶ï¼šçˆ¶beforeUpdate -> å­beforeUpdate->å­updated -> çˆ¶updted

ä¸å½±å“å­ç»„ä»¶ï¼šçˆ¶beforeUpdate -> çˆ¶updated

é”€æ¯è¿‡ç¨‹ï¼š

çˆ¶beforeDestroy -> å­beforeDestroy -> å­destroyed -> çˆ¶destroyed

é‡è¦ï¼šçˆ¶ç»„ä»¶ç­‰å¾…å­ç»„ä»¶å®Œæˆåï¼Œæ‰ä¼šæ‰§è¡Œè‡ªå·±å¯¹åº”å®Œæˆçš„é’©å­ã€‚

# **ä¸‰ã€å¸¸è€ƒ-ç»„ä»¶é€šä¿¡**

**Vueä¸­çš„ç»„ä»¶çš„data ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

æ¯æ¬¡ä½¿ç”¨ç»„ä»¶æ—¶éƒ½ä¼šå¯¹ç»„ä»¶è¿›è¡Œå®ä¾‹åŒ–æ“ä½œï¼Œå¹¶ä¸”è°ƒç”¨dataå‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ä½œä¸ºç»„ä»¶çš„æ•°æ®æºã€‚è¿™æ ·å¯ä»¥ä¿è¯å¤šä¸ªç»„ä»¶é—´æ•°æ®äº’ä¸å½±å“ã€‚

å¦‚æœdataæ˜¯å¯¹è±¡çš„è¯ï¼Œå¯¹è±¡å±äºå¼•ç”¨ç±»å‹ï¼Œä¼šå½±å“åˆ°æ‰€æœ‰çš„å®ä¾‹ã€‚æ‰€ä»¥ä¸ºäº†ä¿è¯ç»„ä»¶ä¸åŒçš„å®ä¾‹ä¹‹é—´dataä¸å†²çªï¼Œdataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚

**Vue ç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

Vue ç»„ä»¶é—´é€šä¿¡åªè¦æŒ‡ä»¥ä¸‹ 3 ç±»é€šä¿¡ï¼šçˆ¶å­ç»„ä»¶é€šä¿¡ã€éš”ä»£ç»„ä»¶é€šä¿¡ã€å…„å¼Ÿç»„ä»¶é€šä¿¡

ä¸‹é¢æˆ‘ä»¬åˆ†åˆ«ä»‹ç»æ¯ç§é€šä¿¡æ–¹å¼ä¸”ä¼šè¯´æ˜æ­¤ç§æ–¹æ³•å¯é€‚ç”¨äºå“ªç±»ç»„ä»¶é—´é€šä¿¡ã€‚

1ã€props / $emit é€‚ç”¨ çˆ¶å­ç»„ä»¶é€šä¿¡

è¿™ç§æ–¹æ³•æ˜¯ Vue ç»„ä»¶çš„åŸºç¡€ï¼Œç›¸ä¿¡å¤§éƒ¨åˆ†åŒå­¦è€³é—»èƒ½è¯¦ï¼Œæ‰€ä»¥æ­¤å¤„å°±ä¸ä¸¾ä¾‹å±•å¼€ä»‹ç»ã€‚

2ã€ref ä¸ $parent / $children é€‚ç”¨ çˆ¶å­ç»„ä»¶é€šä¿¡

1ï¼‰refï¼šå¦‚æœåœ¨æ™®é€šçš„ DOM å…ƒç´ ä¸Šä½¿ç”¨ï¼Œå¼•ç”¨æŒ‡å‘çš„å°±æ˜¯ DOM å…ƒç´ ï¼›å¦‚æœç”¨åœ¨å­ç»„ä»¶ä¸Šï¼Œå¼•ç”¨å°±æŒ‡å‘ç»„ä»¶å®ä¾‹

2ï¼‰$parent / $childrenï¼šè®¿é—®çˆ¶ / å­å®ä¾‹

3ã€EventBus ï¼ˆ$emit / $onï¼‰ é€‚ç”¨äº çˆ¶å­ã€éš”ä»£ã€å…„å¼Ÿç»„ä»¶é€šä¿¡

è¿™ç§æ–¹æ³•é€šè¿‡ä¸€ä¸ªç©ºçš„ Vue å®ä¾‹ä½œä¸ºä¸­å¤®äº‹ä»¶æ€»çº¿ï¼ˆäº‹ä»¶ä¸­å¿ƒï¼‰ï¼Œç”¨å®ƒæ¥è§¦å‘äº‹ä»¶å’Œç›‘å¬äº‹ä»¶ï¼Œä»è€Œå®ç°ä»»ä½•ç»„ä»¶é—´çš„é€šä¿¡ï¼ŒåŒ…æ‹¬çˆ¶å­ã€éš”ä»£ã€å…„å¼Ÿç»„ä»¶ã€‚

4ã€$attrs/$listeners é€‚ç”¨äº éš”ä»£ç»„ä»¶é€šä¿¡

1ï¼‰$attrsï¼šåŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­ä¸è¢« prop æ‰€è¯†åˆ« (ä¸”è·å–) çš„ç‰¹æ€§ç»‘å®š ( class å’Œ style é™¤å¤– )ã€‚å½“ä¸€ä¸ªç»„ä»¶æ²¡æœ‰å£°æ˜ä»»ä½• prop æ—¶ï¼Œè¿™é‡Œä¼šåŒ…å«æ‰€æœ‰çˆ¶ä½œç”¨åŸŸçš„ç»‘å®š ( class å’Œ style é™¤å¤– )ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ v-bind="$attrs" ä¼ å…¥å†…éƒ¨ç»„ä»¶ã€‚é€šå¸¸é…åˆ inheritAttrs é€‰é¡¹ä¸€èµ·ä½¿ç”¨ã€‚

2ï¼‰$listenersï¼šåŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­çš„ (ä¸å« .native ä¿®é¥°å™¨çš„) v-on äº‹ä»¶ç›‘å¬å™¨ã€‚å®ƒå¯ä»¥é€šè¿‡ v-on="$listeners" ä¼ å…¥å†…éƒ¨ç»„ä»¶

5ã€provide / inject é€‚ç”¨äº éš”ä»£ç»„ä»¶é€šä¿¡

ç¥–å…ˆç»„ä»¶ä¸­é€šè¿‡ provider æ¥æä¾›å˜é‡ï¼Œç„¶ååœ¨å­å­™ç»„ä»¶ä¸­é€šè¿‡ inject æ¥æ³¨å…¥å˜é‡ã€‚provide / inject API ä¸»è¦è§£å†³äº†è·¨çº§ç»„ä»¶é—´çš„é€šä¿¡é—®é¢˜ï¼Œä¸è¿‡å®ƒçš„ä½¿ç”¨åœºæ™¯ï¼Œä¸»è¦æ˜¯å­ç»„ä»¶è·å–ä¸Šçº§ç»„ä»¶çš„çŠ¶æ€ï¼Œè·¨çº§ç»„ä»¶é—´å»ºç«‹äº†ä¸€ç§ä¸»åŠ¨æä¾›ä¸ä¾èµ–æ³¨å…¥çš„å…³ç³»ã€‚

6ã€Vuex é€‚ç”¨äº çˆ¶å­ã€éš”ä»£ã€å…„å¼Ÿç»„ä»¶é€šä¿¡

Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚æ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚â€œstoreâ€ åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€ ( state )ã€‚

**ç»„ä»¶ä¸­å†™ nameé€‰é¡¹æœ‰å“ªäº›å¥½å¤„åŠä½œç”¨ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

1) å¯ä»¥é€šè¿‡åå­—æ‰¾åˆ°å¯¹åº”çš„ç»„ä»¶ï¼ˆ é€’å½’ç»„ä»¶ ï¼‰

2) å¯ä»¥é€šè¿‡nameå±æ€§å®ç°ç¼“å­˜åŠŸèƒ½ (keep-alive)

3) å¯ä»¥é€šè¿‡nameæ¥è¯†åˆ«ç»„ä»¶ï¼ˆè·¨çº§ç»„ä»¶é€šä¿¡æ—¶éå¸¸é‡è¦ï¼‰

Vue.extend = function () {

  if(name) {

â€‹    Sub.options.componentd[name] = Sub

  }

}

**keep-aliveå¹³æ—¶åœ¨å“ªé‡Œä½¿ç”¨ï¼ŸåŸç†æ˜¯ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

keep-alive ä¸»è¦æ˜¯ç»„ä»¶ç¼“å­˜ï¼Œé‡‡ç”¨çš„æ˜¯LRUç®—æ³•ã€‚æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨æ³•ã€‚

å¸¸ç”¨çš„ä¸¤ä¸ªå±æ€§include/excludeï¼Œå…è®¸ç»„ä»¶æœ‰æ¡ä»¶çš„è¿›è¡Œç¼“å­˜ã€‚

ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸactivated/deactivatedï¼Œç”¨æ¥å¾—çŸ¥å½“å‰ç»„ä»¶æ˜¯å¦å¤„äºæ´»è·ƒçŠ¶æ€ã€‚

abstract: true, // æŠ½è±¡ç»„ä»¶ 

props:{

  include: patternTypes, // è¦ç¼“å­˜çš„æœ‰å“ªäº›

  exclude: patternTypes, // è¦æ’é™¤çš„æœ‰å“ªäº›

  max: [String, Number] //æœ€å¤§ç¼“å­˜æ•°é‡ 

}

if(cache[key]) { // é€šè¿‡key æ‰¾åˆ°ç¼“å­˜ï¼Œè·å–å®ä¾‹

  vnode.componentInstance = cache[key].componentInstance

  remove(keys, key) //å°†keyåˆ é™¤æ‰ 

  keys.push(key) // æ”¾åˆ°æœ«å°¾ 

} else {

  cache[key] = vnode // æ²¡æœ‰ç¼“å­˜è¿‡ 

  keys.push(key) //å­˜å‚¨key

  if(this.max && keys.length > parseInt(this.max)) { // å¦‚æœè¶…è¿‡æœ€å¤§ç¼“å­˜æ•° 

  // åˆ é™¤æœ€æ—©ç¼“å­˜çš„ 

  pruneCacheEntry(cache, keys[0], keys, this._vnode)

}

}

vnode.data.keepAlive = true // æ ‡è®°èµ°äº†ç¼“å­˜ 

**Vue.minxinçš„ä½¿ç”¨åœºæ™¯å’ŒåŸç†ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

Vue.mixinçš„ä½œç”¨å°±æ˜¯æŠ½ç¦»å…¬å…±çš„ä¸šåŠ¡é€»è¾‘ï¼ŒåŸç†ç±»ä¼¼â€œå¯¹è±¡çš„ç»§æ‰¿â€ï¼Œå½“ç»„ä»¶åˆå§‹åŒ–æ—¶ä¼šè°ƒç”¨ mergeOptionsæ–¹æ³•è¿›è¡Œåˆå¹¶ï¼Œé‡‡ç”¨ç­–ç•¥æ¨¡å¼é’ˆå¯¹ä¸åŒçš„å±æ€§è¿›è¡Œåˆå¹¶ï¼Œå¦‚æœæ··å…¥çš„æ•°æ®å’Œæœ¬èº«ç»„ä»¶ä¸­çš„æ•°æ®å†²çªï¼Œä¼šé‡‡ç”¨â€œå°±è¿‘åŸåˆ™â€ä»¥ç»„ä»¶çš„æ•°æ®ä¸ºå‡†ã€‚

è¡¥å……å›ç­”ï¼š

mixinä¸­æœ‰å¾ˆå¤šç¼ºé™·â€œå‘½åå†²çªé—®é¢˜â€ï¼Œâ€œä¾èµ–é—®é¢˜â€ï¼Œâ€œæ•°æ®æ¥æºé—®é¢˜â€ï¼Œè¿™é‡Œå¼ºè°ƒä¸€ä¸‹mixinçš„æ•°æ®æ˜¯ä¸ä¼šè¢«å…±äº«çš„ã€‚

# **å››ã€å¸¸è€ƒ-è·¯ç”±** 

**Vue-routeræœ‰å‡ ç§é’©å­å‡½æ•°ï¼Ÿå…·ä½“æ˜¯ä»€ä¹ˆåŠæ‰§è¡Œæµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

è·¯ç”±é’©å­çš„æ‰§è¡Œæµç¨‹ï¼Œé’©å­å‡½æ•°ç§ç±»æœ‰ï¼šå…¨å±€å®ˆå«ã€è·¯ç”±å®ˆå«ã€ç»„ä»¶å®ˆå«ã€‚

å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹

1.å¯¼èˆªè¢«è§¦å‘ï¼›

2.åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨beforeRouteLeaveå®ˆå«ï¼›

3.è°ƒç”¨å…¨å±€beforeEachå®ˆå«ï¼›

4.åœ¨å¤ç”¨ç»„ä»¶é‡Œè°ƒç”¨beforeRouteUpdateå®ˆå«ï¼›

5.è°ƒç”¨è·¯ç”±é…ç½®é‡Œçš„beforeEnterå®ˆå«ï¼›

6.è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶ï¼›

7.åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨beforeRouteEnterå®ˆå«ï¼›

8.è°ƒç”¨å…¨å±€beforeResolveå®ˆå«ï¼›

9.å¯¼èˆªè¢«ç¡®è®¤ï¼›

10.è°ƒç”¨å…¨å±€çš„afterEaché’©å­ï¼›

11.DOMæ›´æ–°ï¼›

12.ç”¨åˆ›å»ºå¥½çš„å®ä¾‹è°ƒç”¨beforeRouteEnterå®ˆå«ä¸­ä¼ ç»™nextçš„å›è°ƒå‡½æ•°ã€‚

**vue-router ä¸¤ç§æ¨¡å¼çš„åŒºåˆ«ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

vue-router æœ‰ 3 ç§è·¯ç”±æ¨¡å¼ï¼šhashã€historyã€abstractã€‚

1) hashæ¨¡å¼ï¼šhash + hashChange

ç‰¹ç‚¹ï¼š

hashè™½ç„¶åœ¨URLä¸­ï¼Œä½†ä¸è¢«åŒ…æ‹¬åœ¨HTTPè¯·æ±‚ä¸­

ç”¨æ¥æŒ‡å¯¼æµè§ˆå™¨åŠ¨ä½œï¼Œå¯¹æœåŠ¡ç«¯å®‰å…¨æ— ç”¨ï¼Œhashä¸ä¼šé‡åŠ è½½é¡µé¢

é€šè¿‡ç›‘å¬ hashï¼ˆ#ï¼‰çš„å˜åŒ–æ¥æ‰§è¡Œjsä»£ç  ä»è€Œå®ç° é¡µé¢çš„æ”¹å˜

æ ¸å¿ƒä»£ç ï¼š

window.addEventListener(â€˜hashchangeâ€˜,function(){

  self.urlChange()

})

2) historyæ¨¡å¼ï¼šhistoryApi + popState

HTML5æ¨å‡ºçš„history APIï¼Œç”±pushState()è®°å½•æ“ä½œå†å²ï¼Œç›‘å¬popstateäº‹ä»¶æ¥ç›‘å¬åˆ°çŠ¶æ€å˜æ›´ï¼›

å› ä¸º åªè¦åˆ·æ–° è¿™ä¸ªurlï¼ˆwww.ff.ff/jjkj/fdfd/fdf/fdï¼‰å°±ä¼šè¯·æ±‚æœåŠ¡å™¨ï¼Œç„¶è€ŒæœåŠ¡å™¨ä¸Šæ ¹æœ¬æ²¡æœ‰è¿™ä¸ªèµ„æºï¼Œæ‰€ä»¥å°±ä¼šæŠ¥404ï¼Œè§£å†³æ–¹æ¡ˆå°± é…ç½®ä¸€ä¸‹æœåŠ¡å™¨ç«¯ã€‚

è¯´æ˜ï¼š

1ï¼‰hash: ä½¿ç”¨ URL hash å€¼æ¥ä½œè·¯ç”±ã€‚æ”¯æŒæ‰€æœ‰æµè§ˆå™¨ï¼ŒåŒ…æ‹¬ä¸æ”¯æŒ HTML5 History Api çš„æµè§ˆå™¨ï¼›

2ï¼‰history : ä¾èµ– HTML5 History API å’ŒæœåŠ¡å™¨é…ç½®ã€‚å…·ä½“å¯ä»¥æŸ¥çœ‹ HTML5 History æ¨¡å¼ï¼›

3ï¼‰abstract : æ”¯æŒæ‰€æœ‰ JavaScript è¿è¡Œç¯å¢ƒï¼Œå¦‚ Node.js æœåŠ¡å™¨ç«¯ã€‚å¦‚æœå‘ç°æ²¡æœ‰æµè§ˆå™¨çš„ APIï¼Œè·¯ç”±ä¼šè‡ªåŠ¨å¼ºåˆ¶è¿›å…¥è¿™ä¸ªæ¨¡å¼.

**äº”ã€å¸¸è€ƒ-å±æ€§ä½œç”¨ä¸å¯¹æ¯”** 

**nextTickåœ¨å“ªé‡Œä½¿ç”¨ï¼ŸåŸç†æ˜¯ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

nextTickçš„å›è°ƒæ˜¯åœ¨ä¸‹æ¬¡DOMæ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œçš„å»¶è¿Ÿå›è°ƒã€‚åœ¨ä¿®æ”¹æ•°æ®ä¹‹åç«‹å³ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè·å–æ›´æ–°åçš„DOMã€‚nextTickä¸»è¦ä½¿ç”¨äº†å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ã€‚åŸç†å°±æ˜¯å¼‚æ­¥æ–¹æ³•(promise, mutationObserver, setImmediate, setTimeout)ç»å¸¸ä¸äº‹ä»¶å¾ªç¯ä¸€èµ·æ¥é—®ã€‚

è¡¥å……å›ç­”ï¼š

vueå¤šæ¬¡æ›´æ–°æ•°æ®ï¼Œæœ€ç»ˆä¼šè¿›è¡Œæ‰¹å¤„ç†æ›´æ–°ã€‚å†…éƒ¨è°ƒç”¨çš„å°±æ˜¯nextTickå®ç°äº†å»¶è¿Ÿæ›´æ–°ï¼Œç”¨æˆ·è‡ªå®šä¹‰çš„nextTickä¸­çš„å›è°ƒä¼šè¢«å»¶è¿Ÿåˆ°æ›´æ–°å®Œæˆåè°ƒç”¨ï¼Œä»è€Œå¯ä»¥è·å–æ›´æ–°åçš„DOMã€‚

**Vue ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹ŸDOMï¼Ÿ è™šæ‹ŸDOMçš„ä¼˜åŠ£å¦‚ä½•ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

Virtual DOM å°±æ˜¯ç”¨jså¯¹è±¡æ¥æè¿°çœŸå®DOMï¼Œæ˜¯å¯¹çœŸå®DOMçš„æŠ½è±¡ï¼Œç”±äºç›´æ¥æ“ä½œDOMæ€§èƒ½ä½ä½†æ˜¯jså±‚çš„æ“ä½œæ•ˆç‡é«˜ï¼Œå¯ä»¥å°†DOMæ“ä½œè½¬åŒ–æˆå¯¹è±¡æ“ä½œï¼Œæœ€ç»ˆé€šè¿‡diffç®—æ³•æ¯”å¯¹å·®å¼‚è¿›è¡Œæ›´æ–°DOM (å‡å°‘äº†å¯¹çœŸå®DOMçš„æ“ä½œ)ã€‚è™šæ‹ŸDOMä¸ä¾èµ–çœŸå®å¹³å°ç¯å¢ƒä»è€Œä¹Ÿå¯ä»¥å®ç°è·¨å¹³å°ã€‚

è¡¥å……å›ç­”ï¼š

è™šæ‹ŸDOMçš„å®ç°å°±æ˜¯æ™®é€šå¯¹è±¡åŒ…å«tagã€dataã€childrenç­‰å±æ€§å¯¹çœŸå®èŠ‚ç‚¹çš„æè¿°ã€‚ï¼ˆæœ¬è´¨ä¸Šå°±æ˜¯åœ¨JSå’ŒDOMä¹‹é—´çš„ä¸€ä¸ªç¼“å­˜ï¼‰

Vue2çš„ Virtual DOM å€Ÿé‰´äº†å¼€æºåº“snabbdomçš„å®ç°ã€‚

VirtualDOMæ˜ å°„åˆ°çœŸå®DOMè¦ç»å†VNodeçš„createã€diffã€patchç­‰é˜¶æ®µã€‚

**Vueä¸­keyçš„ä½œç”¨å’Œå·¥ä½œåŸç†ï¼Œè¯´è¯´ä½ å¯¹å®ƒçš„ç†è§£**

æ ¸å¿ƒç­”æ¡ˆï¼š

ä¾‹å¦‚ï¼šv-for="(item, itemIndex) in tabs" :key="itemIndex"

keyçš„ä½œç”¨ä¸»è¦æ˜¯ä¸ºäº†é«˜æ•ˆçš„æ›´æ–°è™šæ‹ŸDOMï¼Œå…¶åŸç†æ˜¯vueåœ¨patchè¿‡ç¨‹ä¸­é€šè¿‡keyå¯ä»¥ç²¾å‡†åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦æ˜¯åŒä¸€ä¸ªï¼Œä»è€Œé¿å…é¢‘ç¹æ›´æ–°ä¸åŒå…ƒç´ ï¼Œä½¿å¾—æ•´ä¸ªpatchè¿‡ç¨‹æ›´åŠ é«˜æ•ˆï¼Œå‡å°‘DOMæ“ä½œé‡ï¼Œæé«˜æ€§èƒ½ã€‚

è¡¥å……å›ç­”ï¼š

1ã€è‹¥ä¸è®¾ç½®keyè¿˜å¯èƒ½åœ¨åˆ—è¡¨æ›´æ–°æ—¶å¼•å‘ä¸€äº›éšè”½çš„bug

2ã€vueä¸­åœ¨ä½¿ç”¨ç›¸åŒæ ‡ç­¾åå…ƒç´ çš„è¿‡æ¸¡åˆ‡æ¢æ—¶ï¼Œä¹Ÿä¼šä½¿ç”¨åˆ°keyå±æ€§ï¼Œå…¶ç›®çš„ä¹Ÿæ˜¯ä¸ºäº†è®©vueå¯ä»¥åŒºåˆ†å®ƒä»¬ï¼Œå¦åˆ™vueåªä¼šæ›¿æ¢å…¶å†…éƒ¨å±æ€§è€Œä¸ä¼šè§¦å‘è¿‡æ¸¡æ•ˆæœã€‚

**Vue ä¸­çš„diffåŸç†**

æ ¸å¿ƒç­”æ¡ˆï¼š

vueçš„diffç®—æ³•æ˜¯å¹³çº§æ¯”è¾ƒï¼Œä¸è€ƒè™‘è·¨çº§æ¯”è¾ƒçš„æƒ…å†µã€‚å†…éƒ¨é‡‡ç”¨æ·±åº¦é€’å½’çš„æ–¹å¼ + åŒæŒ‡é’ˆçš„æ–¹å¼è¿›è¡Œæ¯”è¾ƒã€‚

è¡¥å……å›ç­”ï¼š

1) å…ˆæ¯”è¾ƒæ˜¯å¦æ˜¯ç›¸åŒèŠ‚ç‚¹

2) ç›¸åŒèŠ‚ç‚¹æ¯”è¾ƒå±æ€§ï¼Œå¹¶å¤ç”¨è€èŠ‚ç‚¹

3) æ¯”è¾ƒå„¿å­èŠ‚ç‚¹ï¼Œè€ƒè™‘è€èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹å„¿å­çš„æƒ…å†µ

4) ä¼˜åŒ–æ¯”è¾ƒï¼šå¤´å¤´ã€å°¾å°¾ã€å¤´å°¾ã€å°¾å¤´

5) æ¯”å¯¹æŸ¥æ‰¾è¿›è¡Œå¤ç”¨

Vue2 ä¸ Vue3.x çš„diffç®—æ³•ï¼š

Vue2çš„æ ¸å¿ƒDiffç®—æ³•é‡‡ç”¨äº†åŒç«¯æ¯”è¾ƒçš„ç®—æ³•ï¼ŒåŒæ—¶ä»æ–°æ—§childrençš„ä¸¤ç«¯å¼€å§‹è¿›è¡Œæ¯”è¾ƒï¼Œå€ŸåŠ©keyå€¼æ‰¾åˆ°å¯å¤ç”¨çš„èŠ‚ç‚¹ï¼Œå†è¿›è¡Œç›¸å…³æ“ä½œã€‚

Vue3.xå€Ÿé‰´äº†iviç®—æ³•å’Œ infernoç®—æ³•ï¼Œè¯¥ç®—æ³•ä¸­è¿˜è¿ç”¨äº†åŠ¨æ€è§„åˆ’çš„æ€æƒ³æ±‚è§£æœ€é•¿é€’å½’å­åºåˆ—ã€‚(å®é™…çš„å®ç°å¯ä»¥ç»“åˆVue3.xæºç çœ‹ã€‚)

**v-if ä¸ v-forçš„ä¼˜å…ˆçº§**

æ ¸å¿ƒç­”æ¡ˆï¼š

1ã€v-forä¼˜å…ˆäºv-ifè¢«è§£æ

2ã€å¦‚æœåŒæ—¶å‡ºç°ï¼Œæ¯æ¬¡æ¸²æŸ“éƒ½ä¼šå…ˆæ‰§è¡Œå¾ªç¯å†åˆ¤æ–­æ¡ä»¶ï¼Œæ— è®ºå¦‚ä½•å¾ªç¯éƒ½ä¸å¯é¿å…ï¼Œæµªè´¹äº†æ€§èƒ½

3ã€è¦é¿å…å‡ºç°è¿™ç§æƒ…å†µï¼Œåˆ™åœ¨å¤–å±‚åµŒå¥—templateï¼Œåœ¨è¿™ä¸€å±‚è¿›è¡Œv-ifåˆ¤æ–­ï¼Œç„¶ååœ¨å†…éƒ¨è¿›è¡Œv-forå¾ªç¯

4ã€å¦‚æœæ¡ä»¶å‡ºç°åœ¨å¾ªç¯å†…éƒ¨ï¼Œå¯é€šè¿‡è®¡ç®—å±æ€§æå‰è¿‡æ»¤æ‰é‚£äº›ä¸éœ€è¦æ˜¾ç¤ºçš„é¡¹

**v-ifä¸v-showçš„åŒºåˆ«**

æ ¸å¿ƒç­”æ¡ˆï¼š

v-if æ˜¯çœŸæ­£çš„æ¡ä»¶æ¸²æŸ“ï¼Œç›´åˆ°æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸ºçœŸæ—¶ï¼Œæ‰ä¼šå¼€å§‹æ¸²æŸ“ã€‚

v-show ä¸ç®¡åˆå§‹æ¡ä»¶æ˜¯ä»€ä¹ˆä¼šæ¸²æŸ“ï¼Œå¹¶ä¸”åªæ˜¯ç®€å•åœ°åŸºäº CSS çš„ â€œdisplayâ€ å±æ€§è¿›è¡Œåˆ‡æ¢ã€‚

æ³¨æ„ï¼šv-if é€‚ç”¨äºä¸éœ€è¦é¢‘ç¹åˆ‡æ¢æ¡ä»¶çš„åœºæ™¯ï¼›v-show åˆ™é€‚ç”¨äºéœ€è¦éå¸¸é¢‘ç¹åˆ‡æ¢æ¡ä»¶çš„åœºæ™¯ã€‚

**computed å’Œ watch çš„åŒºåˆ«å’Œè¿ç”¨çš„åœºæ™¯ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

computedï¼š è®¡ç®—å±æ€§ã€‚ä¾èµ–å…¶å®ƒå±æ€§å€¼ï¼Œå¹¶ä¸” computed çš„å€¼æœ‰ç¼“å­˜ï¼Œåªæœ‰å®ƒä¾èµ–çš„å±æ€§å€¼å‘ç”Ÿæ”¹å˜ï¼Œä¸‹ä¸€æ¬¡è·å– computed çš„å€¼æ—¶æ‰ä¼šé‡æ–°è®¡ç®— computed çš„å€¼ï¼›

watchï¼š ç›‘å¬æ•°æ®çš„å˜åŒ–ã€‚æ›´å¤šçš„æ˜¯ã€Œè§‚å¯Ÿã€çš„ä½œç”¨ï¼Œç±»ä¼¼äºæŸäº›æ•°æ®çš„ç›‘å¬å›è°ƒ ï¼Œæ¯å½“ç›‘å¬çš„æ•°æ®å˜åŒ–æ—¶éƒ½ä¼šæ‰§è¡Œå›è°ƒè¿›è¡Œåç»­æ“ä½œï¼›

è¿ç”¨åœºæ™¯ï¼š

1ï¼‰å½“æˆ‘ä»¬éœ€è¦è¿›è¡Œæ•°å€¼è®¡ç®—ï¼Œå¹¶ä¸”ä¾èµ–äºå…¶å®ƒæ•°æ®æ—¶ï¼Œåº”è¯¥ä½¿ç”¨ computedï¼Œå› ä¸ºå¯ä»¥åˆ©ç”¨ computed çš„ç¼“å­˜ç‰¹æ€§ï¼Œé¿å…æ¯æ¬¡è·å–å€¼æ—¶ï¼Œéƒ½è¦é‡æ–°è®¡ç®—ï¼›

2ï¼‰å½“æˆ‘ä»¬éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œåº”è¯¥ä½¿ç”¨ watchï¼Œä½¿ç”¨ watch é€‰é¡¹å…è®¸æˆ‘ä»¬æ‰§è¡Œå¼‚æ­¥æ“ä½œ ( è®¿é—®ä¸€ä¸ª API )ï¼Œé™åˆ¶æˆ‘ä»¬æ‰§è¡Œè¯¥æ“ä½œçš„é¢‘ç‡ï¼Œå¹¶åœ¨æˆ‘ä»¬å¾—åˆ°æœ€ç»ˆç»“æœå‰ï¼Œè®¾ç½®ä¸­é—´çŠ¶æ€ã€‚è¿™äº›éƒ½æ˜¯è®¡ç®—å±æ€§æ— æ³•åšåˆ°çš„ã€‚

**å¦‚ä½•ç†è§£è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

æŒ‡ä»¤çš„å®ç°åŸç†ï¼Œå¯ä»¥ä»ç¼–è¯‘åŸç† =>ä»£ç ç”Ÿæˆ=> æŒ‡ä»¤é’©å­å®ç°è¿›è¡Œæ¦‚è¿°

1ï½¤åœ¨ç”Ÿæˆ ast è¯­æ³•æ ‘æ—¶ï¼Œé‡åˆ°æŒ‡ä»¤ä¼šç»™å½“å‰å…ƒç´ æ·»åŠ directiveså±æ€§

2ï½¤é€šè¿‡ genDirectives ç”ŸæˆæŒ‡ä»¤ä»£ç 

3ï½¤åœ¨patchå‰å°†æŒ‡ä»¤çš„é’©å­æå–åˆ° cbsä¸­ï¼Œåœ¨patchè¿‡ç¨‹ä¸­è°ƒç”¨å¯¹åº”çš„é’©å­ã€‚

4ï½¤å½“æ‰§è¡ŒæŒ‡ä»¤å¯¹åº”é’©å­å‡½æ•°æ—¶ï¼Œè°ƒç”¨å¯¹åº”æŒ‡ä»¤å®šä¹‰çš„æ–¹æ³•

**V-modelçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ**

æ ¸å¿ƒç­”æ¡ˆï¼š

v-modelæœ¬è´¨å°±æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå¯ä»¥çœ‹æˆæ˜¯value + inputæ–¹æ³•çš„è¯­æ³•ç³–ã€‚å¯ä»¥é€šè¿‡modelå±æ€§çš„propå’Œeventå±æ€§æ¥è¿›è¡Œè‡ªå®šä¹‰ã€‚åŸç”Ÿçš„v-modelï¼Œä¼šæ ¹æ®æ ‡ç­¾çš„ä¸åŒç”Ÿæˆä¸åŒçš„äº‹ä»¶å’Œå±æ€§ã€‚

v-model åœ¨å†…éƒ¨ä¸ºä¸åŒçš„è¾“å…¥å…ƒç´ ä½¿ç”¨ä¸åŒçš„å±æ€§å¹¶æŠ›å‡ºä¸åŒçš„äº‹ä»¶ï¼š

1ï¼‰text å’Œ textarea å…ƒç´ ä½¿ç”¨ value å±æ€§å’Œ input äº‹ä»¶ï¼›

2ï¼‰checkbox å’Œ radio ä½¿ç”¨ checked å±æ€§å’Œ change äº‹ä»¶ï¼›

3ï¼‰select å­—æ®µå°† value ä½œä¸º prop å¹¶å°† change ä½œä¸ºäº‹ä»¶ã€‚

# **å…­ã€å¸¸è€ƒ-æ€§èƒ½ä¼˜åŒ–** 

**Vueæ€§èƒ½ä¼˜åŒ–**

1ã€ä½ éƒ½åšè¿‡å“ªäº›Vueçš„æ€§èƒ½ä¼˜åŒ–ï¼Ÿï¼ˆ ç»Ÿè®¡åçš„ç»“æœ ï¼‰

**1ï¼‰ç¼–ç é˜¶æ®µ**

å°½é‡å‡å°‘dataä¸­çš„æ•°æ®ï¼Œdataä¸­çš„æ•°æ®éƒ½ä¼šå¢åŠ getterå’Œsetterï¼Œä¼šæ”¶é›†å¯¹åº”çš„watcherï¼›

å¦‚æœéœ€è¦ä½¿ç”¨v-forç»™æ¯é¡¹å…ƒç´ ç»‘å®šäº‹ä»¶æ—¶ä½¿ç”¨äº‹ä»¶ä»£ç†ï¼›

SPA é¡µé¢é‡‡ç”¨keep-aliveç¼“å­˜ç»„ä»¶ï¼›

åœ¨æ›´å¤šçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨v-ifæ›¿ä»£v-showï¼›

keyä¿è¯å”¯ä¸€ï¼›

ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½ã€å¼‚æ­¥ç»„ä»¶ï¼›

é˜²æŠ–ã€èŠ‚æµï¼›

ç¬¬ä¸‰æ–¹æ¨¡å—æŒ‰éœ€å¯¼å…¥ï¼›

é•¿åˆ—è¡¨æ»šåŠ¨åˆ°å¯è§†åŒºåŸŸåŠ¨æ€åŠ è½½ï¼›

å›¾ç‰‡æ‡’åŠ è½½ï¼›

**2ï¼‰ç”¨æˆ·ä½“éªŒï¼š**

éª¨æ¶å±ï¼›

PWAï¼›

è¿˜å¯ä»¥ä½¿ç”¨ç¼“å­˜(å®¢æˆ·ç«¯ç¼“å­˜ã€æœåŠ¡ç«¯ç¼“å­˜)ä¼˜åŒ–ã€æœåŠ¡ç«¯å¼€å¯gzipå‹ç¼©ç­‰ã€‚

**3ï¼‰SEOä¼˜åŒ–**

é¢„æ¸²æŸ“ï¼›

æœåŠ¡ç«¯æ¸²æŸ“SSRï¼›

**4ï¼‰æ‰“åŒ…ä¼˜åŒ–**

å‹ç¼©ä»£ç ï¼›

Tree Shaking/Scope Hoistingï¼›

ä½¿ç”¨cdnåŠ è½½ç¬¬ä¸‰æ–¹æ¨¡å—ï¼›

å¤šçº¿ç¨‹æ‰“åŒ…happypackï¼›

splitChunksæŠ½ç¦»å…¬å…±æ–‡ä»¶ï¼›

sourceMapä¼˜åŒ–ï¼›

**è¯´æ˜ï¼š**ä¼˜åŒ–æ˜¯ä¸ªå¤§å·¥ç¨‹ï¼Œä¼šæ¶‰åŠå¾ˆå¤šæ–¹é¢

![img]()

![img]()

![img]()

Â© è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰,è½¬è½½æˆ–å†…å®¹åˆä½œè¯·è”ç³»ä½œè€…

ç‚¹èµèµšé’»æœ€é«˜æ—¥èµšæ•°ç™¾

èµ (124)

[![img](https://upload.jianshu.io/users/upload_avatars/24099909/07bff132-25c7-4a4f-b30e-cf0b4d576424.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/72/h/72/format/webp)](https://www.jianshu.com/u/98817af98690)

æ˜¯å¦å¦å–

å°ç¤¼ç‰©èµ°ä¸€èµ°ï¼Œæ¥ç®€ä¹¦å…³æ³¨æˆ‘

èµèµ

è¯„è®º(12) å†™è¯„è®º

[![img](https://upload.jianshu.io/users/upload_avatars/18670013/51153d21-055d-4345-8084-c82af6fc421f?imageMogr2/auto-orient/strip|imageView2/1/w/70/h/70/format/webp)](https://www.jianshu.com/u/e622f98f6508)

[æ¸…é˜¿å“¥](https://www.jianshu.com/u/e622f98f6508)

å°å§å§ å¾ˆèµå“¦

8æ¥¼ 05.19 18:06

1



[63a8c6775e25](https://www.jianshu.com/u/63a8c6775e25)

å­¦ä¹ äº†å­¦ä¹ äº†ğŸ®ğŸº

7æ¥¼ 04.13 11:47



[ishy6](https://www.jianshu.com/u/fcb4574cb431)

å¥½å¤šéƒ½çœ‹ä¸æ‡‚å•Š HELP

6æ¥¼ 03.31 11:39

æ‰“å¼€Appï¼ŒæŸ¥çœ‹å…¨éƒ¨è¯„è®º

------

ç®€ä¹¦ä½œè€…

[![img](https://upload.jianshu.io/users/upload_avatars/24099909/07bff132-25c7-4a4f-b30e-cf0b4d576424.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/180/h/180)](https://www.jianshu.com/u/98817af98690)

æ˜¯å¦å¦å– 

å†™äº† 5.4ä¸‡ å­—ï¼Œè·å¾—äº† 277 ä¸ªå–œæ¬¢



 å…³æ³¨

[ä½œè€…ä¸ªäººä¸»é¡µ ](https://www.jianshu.com/u/98817af98690)

------

æ‰“å¼€Appï¼Œç»™TAç•™è¨€ç‚¹èµ

![img](https://cdn2.jianshu.io/asimov/src/assets/image/new_logo.87aa1870.png)

åˆ›ä½œä½ çš„åˆ›ä½œï¼Œæ¥å—ä¸–ç•Œçš„èµèµ

ç™»å½•|æ‰“å¼€App|[çƒ­é—¨æ–‡ç« ](https://www.jianshu.com/)